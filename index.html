<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mind Map</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
    svg {
      width: 100vw;
      height: 100vh;
    }
    circle {
      fill: #7C3AED; /* color morado estilo Obsidian */
      cursor: pointer;
      transition: fill 0.2s;
    }
    circle:hover {
      fill: #A78BFA; /* morado claro al pasar por encima */
    }
    text {
      font-family: sans-serif;
      font-size: 14px;
      pointer-events: none;
      fill: black;
    }
  </style>
</head>
<body>
  <svg></svg>
  <script>
    const nodes = [
      { id: "Cohn – Measure Theory", link: "cohn – measure theory.html" },
      { id: "Equivalence Relations and Quotient Spaces — Albert S. Schwarz", link: "equivalence relations and quotient spaces — albert s. schwarz.html" },
      { id: "Evans – Partial Differential Equations", link: "evans – partial differential equations.html" },
      { id: "Federer – Geometric Measure Theory", link: "federer – geometric measure theory.html" },
      { id: "Hall – Lie Algebras", link: "hall_lie_algebras.html" },
      { id: "Introduction to Mechanics and Symmetry - Jerry E. Marsden", link: "introduction to mechanics and symmetry - jerry e. marsden.html" },
      { id: "Mathematics for Theoretical Physics — Jean Claude Dutailly", link: "mathematics for theoretical physics — jean claude dutailly.html" },
      { id: "On Quotient Spaces — Peter G. Bergmann (1973)", link: "on quotient spaces — peter g. bergmann (1973).html" },
      { id: "Quotient maps and configuration spaces of hard disks", link: "quotient maps and configuration spaces of hard disks.html" },
      { id: "Plan Algebra de Lie", link: "plan_algebra_de_lie.html" },
      { id: "Plan Espacios Cocientes", link: "plan_espacios_cocientes.html" },
      { id: "Plan Teoría de Momentos", link: "plan_teoria_de_momentos.html" }
    ];

    const links = [];

    const svg = d3.select("svg");
    const width = window.innerWidth;
    const height = window.innerHeight;

    const simulation = d3.forceSimulation(nodes)
      .force("charge", d3.forceManyBody().strength(-300))
      .force("center", d3.forceCenter(width / 2, height / 2))
      .force("collision", d3.forceCollide().radius(60));

    const link = svg.append("g")
      .attr("stroke", "#999")
      .attr("stroke-opacity", 0.6)
      .selectAll("line")
      .data(links)
      .enter().append("line")
      .attr("stroke-width", 1);

    const node = svg.append("g")
      .selectAll("circle")
      .data(nodes)
      .enter().append("circle")
      .attr("r", 30)
      .on("click", (event, d) => {
        window.location.href = d.link;
      });

    const label = svg.append("g")
      .selectAll("text")
      .data(nodes)
      .enter().append("text")
      .text(d => d.id)
      .attr("text-anchor", "middle")
      .attr("dy", 5);

    simulation.on("tick", () => {
      node.attr("cx", d => d.x)
          .attr("cy", d => d.y);

      label.attr("x", d => d.x)
           .attr("y", d => d.y);

      link.attr("x1", d => d.source.x)
          .attr("y1", d => d.source.y)
          .attr("x2", d => d.target.x)
          .attr("y2", d => d.target.y);
    });

    // Zoom + drag global
    const zoom = d3.zoom()
      .scaleExtent([0.1, 4])
      .on("zoom", (event) => {
        svg.selectAll("g").attr("transform", event.transform);
      });

    svg.call(zoom);
  </script>
</body>
</html>
